{% extends 'home/base.html' %}
{% load static %}

{% block content %}

<table>
    {% for booking in bookings %}
    {% if booking.status == 1 %}
    <th>
        Upcoming Bookings
    </th>
    <tr>
        <td>
            {{ booking.class_type }}
        </td>
        <td>
            {{ booking.booking_type }}
        </td>
        <td>
            {{ booking.booking_date }}
        </td>
        <td>
            {{ booking.time_slot }}
        </td>
        <td>
            <button class="btn btn-warning"><a href="/edit_booking/{{ booking.id }}">Modify booking</a></button>
            <!-- <button class="btn btn-warning" data-bs-target="#delete-modal">Cancel booking</button> -->
            <button class="btn btn-warning"><a href="/cancel_booking/{{ booking.id }}">Cancel booking</a></button>
        </td>
    
    {% elif booking.status == 0 %}
    <th>
        Pending Bookings
    </th>
    <tr>
        <td>
            {{ booking.class_type }}
        </td>
        <td>
            {{ booking.booking_type }}
        </td>
        <td>
            {{ booking.booking_date }}
        </td>
        <td>
            {{ booking.time_slot }}
        </td>
        <td>
            <button class="btn btn-warning"><a href="/edit_booking/{{ booking.id }}">Modify booking</a></button>
            <button class="btn btn-warning"><a href="/cancel_booking/{{ booking.id }}">Cancel booking</a></button>
        </td>
    </tr>
    {% elif booking.status == 3 %}
    <th>
        Past Bookings
    </th>
    <tr>
        <td>
            {{ booking.class_type }}
        </td>
        <td>
            {{ booking.booking_type }}
        </td>
        <td>
            {{ booking.booking_date }}
        </td>
        <td>
            {{ booking.time_slot }}
        </td>
</table>
{% endif %}
{% endfor %}

{% if not upcomingbookings %}
<p>You currently have no upcoming bookings. Would you like to book a class?</p>
<button class="btn btn-warning"><a href="{% url 'make_booking' %}">Make a booking</a> </button>
{% endif %}




{% endblock %}